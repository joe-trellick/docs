<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Manual Network Transport Configuration | Ditto</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.ditto.live/advanced/manual-network-transport-configuration"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Manual Network Transport Configuration | Ditto"><meta data-react-helmet="true" name="description" content="There are instances where you may want to configure additional connections configurations for the current Ditto instance. This section will teach you how to configure your Ditto instance to listen for connections on a port explicitly and to connect to remote instances via a host (IP) and port."><meta data-react-helmet="true" property="og:description" content="There are instances where you may want to configure additional connections configurations for the current Ditto instance. This section will teach you how to configure your Ditto instance to listen for connections on a port explicitly and to connect to remote instances via a host (IP) and port."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.ditto.live/advanced/manual-network-transport-configuration"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/advanced/manual-network-transport-configuration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/advanced/manual-network-transport-configuration" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.357422d5.css">
<link rel="preload" href="/assets/js/runtime~main.bed0d148.js" as="script">
<link rel="preload" href="/assets/js/main.5c0ef987.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Ditto</b></a><a href="https://www.ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Samples Apps<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/getditto/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Advanced</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Platform Permissions</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/advanced/certificate-security">Certificate Based Security</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/advanced/manual-network-transport-configuration">Manual Network Transport Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/advanced/monitoring-network-transports">Monitoring Transport Conditions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Manual Network Transport Configuration</h1></header><p>There are instances where you may want to configure additional connections configurations for the current Ditto instance. This section will teach you how to configure your Ditto instance to listen for connections on a port explicitly and to connect to remote instances via a host (IP) and port.</p><p> In this tutorial, we  <em>Before</em> you call <code>tryStartSync()</code>, construct a <code>DittoTransportConfig</code> value and set <code>ditto.SetTransportConfig</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="explicitly-connecting-another-remote-ditto-instance"></a>Explicitly connecting another remote Ditto instance<a class="hash-link" href="#explicitly-connecting-another-remote-ditto-instance" title="Direct link to heading">#</a></h3><p>If you know the host and port of another remote Ditto instance and would like to connect to it, construct a <code>DittoTransportConfig</code> object and add the host and port to the <code>DittoTransportConfig.Connect.TcpServers</code> property as a <code>string</code>. The string format should be <code>host:port</code>, separated by a colon.</p><p>In the example below, we know of two other Ditto instances located on:</p><ul><li>Host IP <code>135.1.5.5</code> at port <code>12345</code></li><li>Host IP <code>185.1.5.5</code> at port <code>4567</code></li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">JavaScript</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Swift</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Objective-C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">C#</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">C++</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">TransportConfig</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@dittolive/ditto&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcpServers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;135.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcpServers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;185.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tryStartSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When running on a web browser, you&#x27;ll need to specify <em>WebSocket</em> endpoints. Web browsers are not capable of raw TCP connections. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">TransportConfig</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@dittolive/ditto&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">websocketURLs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;wss://135.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">websocketURLs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;wss://185.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tryStartSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">var config = DittoTransportConfig()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Connect explicitly to a remote devices</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.connect.tcpServers.add(&quot;135.1.5.5:12345&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.connect.tcpServers.add(&quot;185.1.5.5:12345&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.setTransportConfig(config: config)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">do {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  try ditto.tryStartSync()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (let err) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(err.localizedDescription)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly objc"><pre tabindex="0" class="prism-code language-objc codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DITMutableTransportConfig </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">transportConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">DITMutableTransportConfig alloc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> init</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcpServers addObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;135.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcpServers addObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;185.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ditto setTransportConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">NSError </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">err </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ditto tryStartSync</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">val transportConfig = DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.connect.tcpServers.add(&quot;135.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.connect.tcpServers.add(&quot;185.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.tryStartSync()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DittoTransportConfig config = new DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DittoConnect connect = new DittoConnect();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">connect.setTcpServers(Sets.newHashSet(&quot;135.1.5.5:12345&quot;, &quot;185.1.5.5:12345&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.setConnect(connect);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ditto.tryStartSync();    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch(DittoError error) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log.d(&quot;DittoError&quot;, error.getLocalizedMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DittoTransportConfig transportConfig = new DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Connect explicitly to a remote device on </span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Connect.TcpServers.Add(&quot;135.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// you can add as many TcpServers as you would like.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Connect.TcpServers.Add(&quot;185.1.5.5:4567&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// set the transport config </span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.SetTransportConfig(transportConfig);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// now you can start ditto&#x27;s sync </span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.TryStartSync();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ditto</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Connect explicitly to remote devices</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp_servers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;135.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp_servers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;185.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// set the transport config </span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">set_transport_config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// now you can start ditto&#x27;s sync </span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">try_start_sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>Feel free to add as many known remote <code>host:port</code> strings.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="listening-for-connections-on-a-specific-port"></a>Listening for Connections on a Specific Port<a class="hash-link" href="#listening-for-connections-on-a-specific-port" title="Direct link to heading">#</a></h3><p>You can enable the C# Ditto instance to listen for incoming connections from other remotes Ditto instances on a specific port. </p><p>In this example, we would like our Ditto instance to listen to <em>incoming</em> connections on port <code>4000</code> on <code>localhost</code>. </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>To be safe, please do not use <code>localhost</code> when setting the IP interface. Use <code>&quot;0.0.0.0&quot;</code> instead.</p></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">JavaScript</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Swift</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Objective-C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">C#</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">C++</li></ul><div class="margin-vert--md"><div role="tabpanel"><blockquote><p>Listening on a port is only available on Node or Electron environments. This functionality will not work when running inside of a web browser. Web browsers do not allow code to listen to a host&#x27;s IP or port.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">isEnabled</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">interfaceIP</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">port</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tryStartSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">var config = DittoTransportConfig()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for incoming connections on port 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.listen.tcp.isEnabled = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.listen.tcp.interfaceIp = &quot;0.0.0.0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.listen.tcp.port = 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.setTransportConfig(config: config)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">do {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  try ditto.tryStartSync()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (let err) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(err.localizedDescription)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly objc"><pre tabindex="0" class="prism-code language-objc codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DITMutableTransportConfig </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">transportConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">DITMutableTransportConfig alloc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> init</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp setEnabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">true</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp setInterfaceIp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;0.0.0.0&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp setPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ditto setTransportConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">NSError </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">err </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ditto tryStartSync</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">val transportConfig = DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.connect.tcpServers.add(&quot;135.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.connect.tcpServers.add(&quot;185.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.tryStartSync()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DittoTransportConfig config = new DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.enableAllPeerToPeer();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DittoListen listen = new DittoListen();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DittoTcpListenConfig tcpListenConfig = new DittoTcpListenConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpListenConfig.setEnabled(true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpListenConfig.setInterfaceIp(&quot;0.0.0.0&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpListenConfig.setPort(4000);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">listen.setTcp(tcpListenConfig);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.setListen(listen);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ditto.tryStartSync();    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch(DittoError error) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log.d(&quot;DittoError&quot;, error.getLocalizedMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DittoTransportConfig transportConfig = new DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp = new DittoTcpListenConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// By default Listen.Tcp.Enabled is false, be sure to set it to true.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp.Enabled = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// if you want to listen on localhost, most likely you will use 0.0.0.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// do not use &quot;localhost&quot; as a string</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp.InterfaceIp = &quot;0.0.0.0&quot;; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">// specify your port.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp.Port = 4000; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.SetTransportConfig(transportConfig);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// now you can call `ditto.TryStartSync()` </span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.TryStartSync();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ditto</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">interface_ip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">set_transport_config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">try_start_sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>Incoming connections from other Ditto instances will be able to connect only if the port is accessible. Depending on your deployment <em>be sure to check that external connections can reach the port</em> that you have specified in your configuration. You may need to set up port forwarding if external ports map differently to your host.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="explicitly-enabling-peer-to-peer-connections"></a>Explicitly enabling Peer to Peer Connections<a class="hash-link" href="#explicitly-enabling-peer-to-peer-connections" title="Direct link to heading">#</a></h2><p>If you do not attempt to configure a <code>DittoTransportConfig</code> but call <code>ditto.TryStartSync()</code>, your Ditto instance will automatically attempt to connect to other ditto instances on the Local Area Network. However, if you supply a <code>DittoTransportConfig</code>, this will not automatically be enabled. You&#x27;ll need to remember to enable local area network peer to peer connnections with <code>EnableAllPeerToPeer()</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="combining-multiple-transports"></a>Combining Multiple Transports<a class="hash-link" href="#combining-multiple-transports" title="Direct link to heading">#</a></h2><p>You can specify several modes of transport configuration within <code>DittoTransportConfig</code>. The following snippet shows you a ditto instance that can:</p><ol><li>Connect to local area network devices</li><li>Listen for incoming remote connections</li><li>Connect to remote devices with a known host and port. </li></ol><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">JavaScript</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Swift</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Objective-C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">C#</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">C++</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">TransportConfig</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@dittolive/ditto&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 1. Enable All Peer to Peer Connections</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setAllPeerToPeerEnabled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 2. Listen for incoming connections on port 4000</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">isEnabled</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">interfaceIp</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">port</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3. Connect explicitly to remote devices</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tryStartSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">var config = DittoTransportConfig()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. Enable All Peer to Peer Connections</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.enableAllPeerToPeer()</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. Listen for incoming connections on port 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.listen.tcp.isEnabled = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.listen.tcp.interfaceIp = &quot;0.0.0.0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.listen.tcp.port = 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. Connect explicitly to remote devices</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.connect.tcpServers.add(&quot;135.1.5.5:12345&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.connect.tcpServers.add(&quot;185.1.5.5:12345&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.setTransportConfig(config: config)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">do {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  try ditto.tryStartSync()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (let err) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(err.localizedDescription)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly objc"><pre tabindex="0" class="prism-code language-objc codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DITMutableTransportConfig </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">transportConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">DITMutableTransportConfig alloc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> init</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 1. Enable Local Area Network Connections</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig enableAllPeerToPeer</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 2. Listen for incoming connections on port 4000</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp setEnabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">true</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp setInterfaceIp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;0.0.0.0&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp setPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3. Connect explicitly to remote devices</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcpServers addObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;135.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcpServers addObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@&quot;185.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ditto setTransportConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">transportConfig</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">NSError </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">err </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ditto tryStartSync</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">val transportConfig = DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. Enable All Peer to Peer Connections</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.enableAllPeerToPeer();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. Listen for incoming connections on port 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.listen.tcp.enabled = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.listen.http.enabled = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.listen.tcp.interfaceIp = &quot;0.0.0.0&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.listen.tcp.port = 4000;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. Connect explicitly to remote devices</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.connect.tcpServers.add(&quot;135.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.connect.tcpServers.add(&quot;185.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.tryStartSync()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DittoTransportConfig config = new DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. Enable Peer to Peer Connections</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.enableAllPeerToPeer();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. Listen for incoming connections on port 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DittoListen listen = new DittoListen();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DittoTcpListenConfig tcpListenConfig = new DittoTcpListenConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpListenConfig.setEnabled(true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpListenConfig.setInterfaceIp(&quot;0.0.0.0&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpListenConfig.setPort(4000);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">listen.setTcp(tcpListenConfig);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.setListen(listen);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. Connect explicitly to remote devices</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DittoConnect connect = new DittoConnect();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">connect.setTcpServers(Sets.newHashSet(&quot;135.1.5.5:12345&quot;, &quot;185.1.5.5:12345&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">config.setConnect(connect);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ditto.tryStartSync();    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch(DittoError error) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log.d(&quot;DittoError&quot;, error.getLocalizedMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">DittoTransportConfig transportConfig = new DittoTransportConfig();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. Enable Local Area Network Connections</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.EnableAllPeerToPeer();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. Listen for incoming connections on port 4000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp.Enabled = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp.InterfaceIp = &quot;0.0.0.0&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Listen.Tcp.Port = 4000;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. Connect explicitly to remote devices</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Connect.TcpServers.Add(&quot;135.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transportConfig.Connect.TcpServers.Add(&quot;185.1.5.5:12345&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.SetTransportConfig(transportConfig);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto.TryStartSync();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ditto</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">TransportConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 1. Enable All Peer to Peer Connections</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">enable_all_peer_to_peer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 2. Listen for incoming connections on port 4000</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">interface_ip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3. Connect explicitly to remote devices</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp_servers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;135.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tcp_servers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;185.1.5.5:12345&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">set_transport_config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ditto</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">try_start_sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/getditto/docs/edit/master/docs/advanced/manual-network-transport-configuration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/advanced/certificate-security"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Certificate Based Security</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/advanced/monitoring-network-transports"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monitoring Transport Conditions Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#explicitly-connecting-another-remote-ditto-instance" class="table-of-contents__link">Explicitly connecting another remote Ditto instance</a></li><li><a href="#listening-for-connections-on-a-specific-port" class="table-of-contents__link">Listening for Connections on a Specific Port</a></li><li><a href="#explicitly-enabling-peer-to-peer-connections" class="table-of-contents__link">Explicitly enabling Peer to Peer Connections</a></li><li><a href="#combining-multiple-transports" class="table-of-contents__link">Combining Multiple Transports</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Quick Start</a></li><li class="footer__item"><a href="https://www.ditto.live/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Main Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Samples Apps<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/getditto/docs/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/getditto/docs/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ditto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/dittolive" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 DittoLive, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bed0d148.js"></script>
<script src="/assets/js/main.5c0ef987.js"></script>
</body>
</html>